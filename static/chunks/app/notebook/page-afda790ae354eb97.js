(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[570],{21122:function(e,t,a){Promise.resolve().then(a.bind(a,30142))},30142:function(e,t,a){"use strict";a.d(t,{default:function(){return eo}});var s=a(57437),r=a(2265),n=a(52249),o=a(22289),l=a(62869);function i(){let[e,t]=(0,r.useState)(!1),a=(0,r.useCallback)(async e=>{t(!0);try{let t=await fetch("/api/gemini",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({prompt:e})});if(!t.ok){let e=await t.json();throw Error("Gemini API error: ".concat(e.error||t.statusText))}return(await t.json()).result}catch(e){throw console.error("Error fetching from Gemini API:",e),e}finally{t(!1)}},[]),s=(0,r.useCallback)(async e=>(await a("Provide code completion suggestions for this JavaScript code: ".concat(e))).split("\n"),[a]);return{isLoading:e,getCompletion:s,improveCode:(0,r.useCallback)(async e=>(await a("Improve this JavaScript code. Only return the improved code without any explanations:\n\n".concat(e))).replace(/^```javascript\n|```$/g,"").trim(),[a]),explainError:(0,r.useCallback)(async e=>a("Explain this JavaScript error and suggest a fix:\n\n".concat(e)),[a]),generateCode:(0,r.useCallback)(async e=>(await a("Generate JavaScript code for: ".concat(e,". Only return the code without any explanations."))).replace(/^```javascript\n|```$/g,"").trim(),[a])}}var c=a(64935),d=a(48736),m=a(33276),u=a(62883),h=a(18930),f=a(99397),x=a(42208),p=a(88893),g=a(74440),v=a(47416),j=a(40875),b=a(22135),w=a(41677);let N=w.zt,y=w.fC,k=w.xz,C=r.forwardRef((e,t)=>{let{className:a,sideOffset:r=4,...n}=e;return(0,s.jsx)(w.VY,{ref:t,sideOffset:r,className:"z-50 overflow-hidden rounded-md bg-[#1a1a4d] px-3 py-1.5 text-xs text-white animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",...n})});C.displayName=w.VY.displayName;var z=a(2296),S=a(7265),E=a(12658),Z=a(99674),R=a(10407),D=a(30401),O=a(40519),F=a(94508);let P=Z.fC,I=Z.xz;Z.ZA,Z.Uv,Z.Tr,Z.Ee,r.forwardRef((e,t)=>{let{className:a,inset:r,children:n,...o}=e;return(0,s.jsxs)(Z.fF,{ref:t,className:(0,F.cn)("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground",r&&"pl-8",a),...o,children:[n,(0,s.jsx)(R.Z,{className:"ml-auto h-4 w-4"})]})}).displayName=Z.fF.displayName,r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(Z.tu,{ref:t,className:(0,F.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...r})}).displayName=Z.tu.displayName;let A=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(Z.Uv,{children:(0,s.jsx)(Z.VY,{ref:t,className:(0,F.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md animate-in fade-in-80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...r})})});A.displayName=Z.VY.displayName;let L=r.forwardRef((e,t)=>{let{className:a,inset:r,...n}=e;return(0,s.jsx)(Z.ck,{ref:t,className:(0,F.cn)("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",r&&"pl-8",a),...n})});L.displayName=Z.ck.displayName,r.forwardRef((e,t)=>{let{className:a,children:r,checked:n,...o}=e;return(0,s.jsxs)(Z.oC,{ref:t,className:(0,F.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),checked:n,...o,children:[(0,s.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,s.jsx)(Z.wU,{children:(0,s.jsx)(D.Z,{className:"h-4 w-4"})})}),r]})}).displayName=Z.oC.displayName,r.forwardRef((e,t)=>{let{className:a,children:r,...n}=e;return(0,s.jsxs)(Z.Rk,{ref:t,className:(0,F.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),...n,children:[(0,s.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,s.jsx)(Z.wU,{children:(0,s.jsx)(O.Z,{className:"h-2 w-2 fill-current"})})}),r]})}).displayName=Z.Rk.displayName,r.forwardRef((e,t)=>{let{className:a,inset:r,...n}=e;return(0,s.jsx)(Z.__,{ref:t,className:(0,F.cn)("px-2 py-1.5 text-sm font-semibold text-foreground",r&&"pl-8",a),...n})}).displayName=Z.__.displayName,r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(Z.Z0,{ref:t,className:(0,F.cn)("-mx-1 my-1 h-px bg-border",a),...r})}).displayName=Z.Z0.displayName;var J=a(49027),M=a(32489);let T=J.fC,_=J.xz,V=J.h_;J.x8;let K=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(J.aV,{ref:t,className:(0,F.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...r})});K.displayName=J.aV.displayName;let B=r.forwardRef((e,t)=>{let{className:a,children:r,...n}=e;return(0,s.jsxs)(V,{children:[(0,s.jsx)(K,{}),(0,s.jsxs)(J.VY,{ref:t,className:(0,F.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a),...n,children:[r,(0,s.jsxs)(J.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,s.jsx)(M.Z,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});B.displayName=J.VY.displayName;let U=e=>{let{className:t,...a}=e;return(0,s.jsx)("div",{className:(0,F.cn)("flex flex-col space-y-1.5 text-center sm:text-left",t),...a})};U.displayName="DialogHeader";let G=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(J.Dx,{ref:t,className:(0,F.cn)("text-lg font-semibold leading-none tracking-tight",a),...r})});G.displayName=J.Dx.displayName,r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(J.dk,{ref:t,className:(0,F.cn)("text-sm text-muted-foreground",a),...r})}).displayName=J.dk.displayName;let W=r.forwardRef((e,t)=>{let{className:a,type:r,...n}=e;return(0,s.jsx)("input",{type:r,className:(0,F.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:t,...n})});W.displayName="Input";var Y=e=>{let{text:t,searchTerm:a}=e;if(!a.trim())return(0,s.jsx)(s.Fragment,{children:t});let r=t.split(RegExp("(".concat(a,")"),"gi"));return(0,s.jsx)(s.Fragment,{children:r.map((e,t)=>e.toLowerCase()===a.toLowerCase()?(0,s.jsx)("mark",{className:"bg-yellow-200 text-black",children:e},t):e)})};function H(e){let{type:t,content:a,output:n,onUpdate:w,onDelete:Z,onAdd:R,onTypeChange:D,dragHandleProps:O,searchTerm:F}=e,[J,M]=(0,r.useState)(!1),[V,K]=(0,r.useState)(!1),[H,$]=(0,r.useState)(!1),[X,q]=(0,r.useState)("code"===t),{getCompletion:Q,improveCode:ee,explainError:et,generateCode:ea}=i(),es=(0,r.useRef)(null),[er,en]=(0,r.useState)("200px"),[eo,el]=(0,r.useState)(!1),[ei,ec]=(0,r.useState)({x:0,y:0}),[ed,em]=(0,r.useState)(""),[eu,eh]=(0,r.useState)(!1),[ef,ex]=(0,r.useState)("");(0,r.useEffect)(()=>{let e=a.split("\n").length;en("".concat(Math.min(Math.max(22*e,100),400),"px"))},[a]);let ep=(0,r.useCallback)(e=>{void 0!==e&&w(e,n)},[w,n]),eg=(0,r.useCallback)(()=>{if("code"!==t)return;let e=es.current.getValue(),a="";try{new(Object.getPrototypeOf(async()=>{})).constructor("console","\n        try {\n          ".concat(e,"\n        } catch (error) {\n          console.error(error.message)\n        }\n      "))({log:function(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];a+=t.map(e=>"object"==typeof e?JSON.stringify(e,null,2).split("\n").map((e,t)=>0===t?e:"  ".repeat(0)+e).join("\n"):String(e)).join(" ")+"\n"},error:function(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];a+="Error: "+t.map(e=>String(e)).join(" ")+"\n"}}).catch(e=>{a+="Error: ".concat(e.message,"\n")}).finally(()=>{w(e,a),$(!1)})}catch(t){t instanceof Error&&(w(e,"Error: ".concat(t.message,"\n").concat(a)),et(t.message).then(s=>{w(e,"".concat(a,"\nError: ").concat(t.message,"\n\nExplanation: ").concat(s))}))}},[t,w,et]),ev=(0,r.useCallback)(async()=>{if("code"===t){M(!0);try{let e=es.current.getValue(),t=await ee(e);w(t,n)}catch(e){console.error("Error improving code:",e),w(a,"Error improving code: ".concat(e,"\n").concat(n))}finally{M(!1)}}},[t,ee,w,n,a]),ej=(0,r.useCallback)(()=>{w(a,"")},[a,w]);!function(e){let{onRun:t,onClear:a,onImprove:s}=e,n=(0,r.useCallback)(e=>{!e.defaultPrevented&&((e.ctrlKey||e.metaKey)&&"Enter"===e.key&&(e.preventDefault(),t()),(e.ctrlKey||e.metaKey)&&"l"===e.key&&(e.preventDefault(),a()),(e.ctrlKey||e.metaKey)&&"i"===e.key&&(e.preventDefault(),s()))},[t,a,s]);(0,r.useEffect)(()=>(window.addEventListener("keydown",n),()=>window.removeEventListener("keydown",n)),[n])}({onRun:eg,onClear:ej,onImprove:ev});let eb=(0,r.useCallback)(async e=>{M(!0);try{let t=await ee(e);if(es.current){let e=es.current.getSelection();e&&es.current.executeEdits("improve-code",[{range:e,text:t,forceMoveMarkers:!0}])}}catch(e){console.error("Error improving code:",e)}finally{M(!1),el(!1)}},[ee]),ew=(0,r.useCallback)(async e=>{try{let t=await Q("Edit the following code: ".concat(e));if(es.current){let e=es.current.getSelection();e&&es.current.executeEdits("edit-code",[{range:e,text:t[0],forceMoveMarkers:!0}])}}catch(e){console.error("Error editing code:",e)}finally{el(!1)}},[Q]),eN=(0,r.useCallback)(async()=>{eh(!0);try{let e=await ea(ef);if(es.current){let t=es.current.getPosition();es.current.executeEdits("insert-generated-code",[{range:{startLineNumber:t.lineNumber,startColumn:t.column,endLineNumber:t.lineNumber,endColumn:t.column},text:e,forceMoveMarkers:!0}])}ex("")}catch(e){console.error("Error generating code:",e)}finally{eh(!1)}},[ea,ef]);return(0,r.useEffect)(()=>{if(es.current){let e=new ResizeObserver(()=>{es.current.layout()});return e.observe(es.current.getContainerDomNode()),()=>e.disconnect()}},[]),(0,s.jsxs)("div",{className:"cell rounded-lg overflow-hidden mb-4 border border-[#2a2a5a] ".concat(V?"fixed inset-4 z-50 bg-[#000033] flex flex-col":"relative flex flex-col"),children:[(0,s.jsxs)("div",{className:"flex items-center justify-between p-2 bg-[#1a1a4d] border-b border-[#2a2a5a]",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(l.z,{variant:"ghost",size:"sm",className:"text-white hover:bg-[#2a2a5a] h-8 w-8 p-0",onClick:D,children:"code"===t?(0,s.jsx)(c.Z,{className:"w-4 h-4"}):(0,s.jsx)(d.Z,{className:"w-4 h-4"})}),(0,s.jsx)("span",{className:"text-sm text-muted-foreground",children:"code"===t?"JavaScript":"Markdown"})]}),(0,s.jsx)("div",{className:"flex items-center space-x-2",children:(0,s.jsxs)(N,{children:["code"===t&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(y,{children:[(0,s.jsx)(k,{asChild:!0,children:(0,s.jsxs)(l.z,{variant:"ghost",size:"sm",className:"text-white hover:bg-[#2a2a5a] h-8 px-3",onClick:eg,children:[(0,s.jsx)(m.Z,{className:"w-4 h-4 mr-2"}),"Run"]})}),(0,s.jsx)(C,{children:(0,s.jsx)("p",{children:"Run code (Ctrl/⌘ + Enter)"})})]}),(0,s.jsxs)(y,{children:[(0,s.jsx)(k,{asChild:!0,children:(0,s.jsxs)(l.z,{variant:"ghost",size:"sm",className:"text-white hover:bg-[#2a2a5a] h-8 px-3",onClick:ev,disabled:J,children:[(0,s.jsx)(u.Z,{className:"w-4 h-4 mr-2"}),J?"Improving...":"Improve"]})}),(0,s.jsx)(C,{children:(0,s.jsx)("p",{children:"Improve code (Ctrl/⌘ + I)"})})]}),(0,s.jsxs)(y,{children:[(0,s.jsx)(k,{asChild:!0,children:(0,s.jsxs)(l.z,{variant:"ghost",size:"sm",className:"text-white hover:bg-[#2a2a5a] h-8 px-3",onClick:ej,children:[(0,s.jsx)(h.Z,{className:"w-4 h-4 mr-2"}),"Clear Output"]})}),(0,s.jsx)(C,{children:(0,s.jsx)("p",{children:"Clear output (Ctrl/⌘ + L)"})})]}),(0,s.jsxs)(T,{children:[(0,s.jsx)(_,{asChild:!0,children:(0,s.jsxs)(l.z,{variant:"ghost",size:"sm",className:"text-white hover:bg-[#2a2a5a] h-8 px-3",children:[(0,s.jsx)(f.Z,{className:"w-4 h-4 mr-2"}),"Generate"]})}),(0,s.jsxs)(B,{children:[(0,s.jsx)(U,{children:(0,s.jsx)(G,{children:"Generate Code"})}),(0,s.jsxs)("div",{className:"grid gap-4 py-4",children:[(0,s.jsx)(W,{placeholder:"Describe the code you want to generate",value:ef,onChange:e=>ex(e.target.value)}),(0,s.jsx)(l.z,{onClick:eN,disabled:eu,children:eu?"Generating...":"Generate"})]})]})]})]}),"markdown"===t&&(0,s.jsxs)(y,{children:[(0,s.jsx)(k,{asChild:!0,children:(0,s.jsxs)(l.z,{variant:"ghost",size:"sm",className:"text-white hover:bg-[#2a2a5a] h-8 px-3",onClick:()=>q(!X),children:[X?(0,s.jsx)(x.Z,{className:"w-4 h-4 mr-2"}):(0,s.jsx)(p.Z,{className:"w-4 h-4 mr-2"}),X?"Preview":"Edit"]})}),(0,s.jsx)(C,{children:(0,s.jsx)("p",{children:"Toggle edit/preview mode"})})]}),(0,s.jsxs)(y,{children:[(0,s.jsx)(k,{asChild:!0,children:(0,s.jsx)(l.z,{variant:"ghost",size:"sm",className:"text-white hover:bg-[#2a2a5a] h-8 w-8 p-0",onClick:()=>K(!V),children:V?(0,s.jsx)(g.Z,{className:"w-4 h-4"}):(0,s.jsx)(v.Z,{className:"w-4 h-4"})})}),(0,s.jsx)(C,{children:(0,s.jsxs)("p",{children:[V?"Minimize":"Maximize"," cell"]})})]}),(0,s.jsxs)(y,{children:[(0,s.jsx)(k,{asChild:!0,children:(0,s.jsx)(l.z,{variant:"ghost",size:"sm",className:"text-white hover:bg-[#2a2a5a] h-8 w-8 p-0",onClick:Z,children:(0,s.jsx)(h.Z,{className:"w-4 h-4"})})}),(0,s.jsx)(C,{children:(0,s.jsx)("p",{children:"Delete cell"})})]})]})})]}),(0,s.jsx)("div",{className:"relative flex-grow overflow-hidden",children:"code"===t||"markdown"===t&&X?(0,s.jsx)(o.ZP,{height:V?"calc(100vh - 8rem)":er,defaultLanguage:"code"===t?"javascript":"markdown",value:a,onChange:ep,onMount:(e,t)=>{es.current=e;let a=e.createDecorationsCollection([]);F&&(()=>{if(!F){a.clear();return}let t=e.getModel();if(!t)return;let s=t.findMatches(F,!1,!1,!1,null,!1).map(e=>({range:e.range,options:{className:"search-highlight",isWholeLine:!1}}));a.set(s)})(),t.editor.defineTheme("customDark",{base:"vs-dark",inherit:!0,rules:[{token:"comment",foreground:"6A9955"},{token:"string",foreground:"CE9178"},{token:"keyword",foreground:"569CD6"},{token:"number",foreground:"B5CEA8"},{token:"operator",foreground:"D4D4D4"}],colors:{"editor.background":"#000033","editor.foreground":"#D4D4D4","editor.lineHighlightBackground":"#1A1A4D","editorLineNumber.foreground":"#858585","editorLineNumber.activeForeground":"#C6C6C6","editor.selectionBackground":"#264F78","editor.inactiveSelectionBackground":"#3A3D41"}}),t.editor.setTheme("customDark"),e.onDidChangeCursorSelection(t=>{let a=e.getSelection();if(a&&!a.isEmpty()){var s;let t=(null===(s=e.getModel())||void 0===s?void 0:s.getValueInRange(a))||"",{startLineNumber:r,startColumn:n}=a,o=e.getTargetAtClientPoint(e.getOffsetForColumn(r,n),r);o&&(ec({x:o.clientX,y:o.clientY}),em(t),el(!0))}else el(!1)})},options:{minimap:{enabled:!1},lineNumbers:"on",roundedSelection:!1,scrollBeyondLastLine:!1,readOnly:!1,fontSize:14,padding:{top:8,bottom:8},scrollbar:{vertical:"visible",horizontal:"hidden",useShadows:!1,verticalScrollbarSize:10},wordWrap:"on"}}):(0,s.jsx)("div",{className:"p-4 bg-[#000033] prose prose-invert max-w-none",children:(0,s.jsx)(z.U,{components:{code(e){let{node:t,inline:a,className:r,children:n,...o}=e,l=/language-(\w+)/.exec(r||"");return!a&&l?(0,s.jsx)(S.Z,{style:E.Z,language:l[1],PreTag:"div",...o,children:String(n).replace(/\n$/,"")}):(0,s.jsx)("code",{className:r,...o,children:n})},p:e=>{let{children:t}=e;return(0,s.jsx)("p",{children:(0,s.jsx)(Y,{text:t,searchTerm:F})})},li:e=>{let{children:t}=e;return(0,s.jsx)("li",{children:(0,s.jsx)(Y,{text:t,searchTerm:F})})}},children:a||"Click edit to add content"})})}),"code"===t&&n&&(0,s.jsxs)("div",{className:"bg-[#1a1a4d] border-t border-[#2a2a5a]",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between p-2",children:[(0,s.jsx)("div",{className:"text-sm text-muted-foreground",children:"Output"}),(0,s.jsx)(l.z,{variant:"ghost",size:"sm",className:"text-white hover:bg-[#2a2a5a] h-6 w-6 p-0",onClick:()=>$(!H),children:H?(0,s.jsx)(j.Z,{className:"w-4 h-4"}):(0,s.jsx)(b.Z,{className:"w-4 h-4"})})]}),!H&&(0,s.jsx)("div",{className:"p-4 max-h-[300px] overflow-auto",children:(0,s.jsx)("pre",{className:"text-sm text-white whitespace-pre-wrap font-mono",children:n})})]}),"code"===t&&(0,s.jsxs)(P,{open:eo,onOpenChange:el,children:[(0,s.jsx)(I,{}),(0,s.jsxs)(A,{style:{position:"absolute",left:"".concat(ei.x,"px"),top:"".concat(ei.y,"px")},children:[(0,s.jsx)(L,{onSelect:()=>eb(ed),children:"Improve Code"}),(0,s.jsx)(L,{onSelect:()=>ew(ed),children:"Edit Code"})]})]})]})}var $=a(58293),X=a(83229),q=a(74394),Q=a(41905);function ee(e){let{isOpen:t,onClose:a,onShare:r}=e;return(0,s.jsx)(T,{open:t,onOpenChange:a,children:(0,s.jsxs)(B,{children:[(0,s.jsx)(U,{children:(0,s.jsx)(G,{children:"Share Notebook"})}),(0,s.jsxs)("div",{className:"grid gap-4 py-4",children:[(0,s.jsx)(l.z,{onClick:()=>r("link"),children:"Copy Share Link"}),(0,s.jsx)(l.z,{onClick:()=>r("email"),children:"Share via Email"})]})]})})}var et=a(14924),ea=a(69658),es=e=>{let{files:t,folders:a,activeFile:n,onFileSelect:o,onCreateFile:i,onCreateFolder:c,onRenameFile:d,onRenameFolder:m,onDeleteFile:u,onDeleteFolder:x}=e,[g,v]=(0,r.useState)(new Set),[b,w]=(0,r.useState)(!1),[N,y]=(0,r.useState)("file"),[k,C]=(0,r.useState)(""),[z,S]=(0,r.useState)(void 0),[E,Z]=(0,r.useState)(!1),[D,O]=(0,r.useState)("file"),[F,P]=(0,r.useState)(""),[I,A]=(0,r.useState)(""),[L,J]=(0,r.useState)(null),[M,T]=(0,r.useState)(""),_=e=>{v(t=>{let a=new Set(t);return a.has(e)?a.delete(e):a.add(e),a})},V=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=g.has(e.id),r=L===e.id;return(0,s.jsxs)("div",{style:{marginLeft:"".concat(16*t,"px")},children:[(0,s.jsxs)("div",{className:"flex items-center cursor-pointer hover:bg-[#2a2a5a] p-1 rounded",onClick:()=>!r&&_(e.id),children:[a?(0,s.jsx)(j.Z,{size:16}):(0,s.jsx)(R.Z,{size:16}),(0,s.jsx)(et.Z,{size:16,className:"mr-2"}),r?(0,s.jsx)(W,{value:M,onChange:e=>T(e.target.value),onBlur:()=>{m(e.id,M),J(null)},onKeyPress:t=>{"Enter"===t.key&&(m(e.id,M),J(null))},className:"w-32 bg-[#2a2a5a] text-white",autoFocus:!0}):(0,s.jsx)("span",{children:e.name}),(0,s.jsxs)("div",{className:"ml-auto",children:[(0,s.jsx)(l.z,{variant:"ghost",size:"sm",className:"text-white hover:bg-[#3a3a6a] p-1",onClick:t=>{t.stopPropagation(),i("New File ".concat(e.files.length+1),e.id)},children:(0,s.jsx)(f.Z,{size:14})}),(0,s.jsx)(l.z,{variant:"ghost",size:"sm",className:"text-white hover:bg-[#3a3a6a] p-1",onClick:t=>{t.stopPropagation(),J(e.id),T(e.name)},children:(0,s.jsx)(p.Z,{size:14})}),(0,s.jsx)(l.z,{variant:"ghost",size:"sm",className:"text-white hover:bg-[#3a3a6a] p-1",onClick:t=>{t.stopPropagation(),x(e.id)},children:(0,s.jsx)(h.Z,{size:14})})]})]}),a&&(0,s.jsxs)(s.Fragment,{children:[e.folders.map(e=>V(e,t+1)),e.files.map(e=>K(e,t+1))]})]},e.id)},K=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=L===e.id;return(0,s.jsxs)("div",{className:"flex items-center cursor-pointer hover:bg-[#2a2a5a] p-1 rounded ".concat(e.id===n?"bg-[#2a2a5a]":""),style:{marginLeft:"".concat(16*t,"px")},onClick:()=>!a&&o(e.id),children:[(0,s.jsx)(ea.Z,{size:16,className:"mr-2"}),a?(0,s.jsx)(W,{value:M,onChange:e=>T(e.target.value),onBlur:()=>{d(e.id,M),J(null)},onKeyPress:t=>{"Enter"===t.key&&(d(e.id,M),J(null))},className:"w-32 bg-[#2a2a5a] text-white",autoFocus:!0}):(0,s.jsx)("span",{children:e.name}),(0,s.jsxs)("div",{className:"ml-auto",children:[(0,s.jsx)(l.z,{variant:"ghost",size:"sm",className:"text-white hover:bg-[#3a3a6a] p-1",onClick:t=>{t.stopPropagation(),J(e.id),T(e.name)},children:(0,s.jsx)(p.Z,{size:14})}),(0,s.jsx)(l.z,{variant:"ghost",size:"sm",className:"text-white hover:bg-[#3a3a6a] p-1",onClick:t=>{t.stopPropagation(),u(e.id)},children:(0,s.jsx)(h.Z,{size:14})})]})]},e.id)};return(0,s.jsxs)("div",{className:"w-64 bg-[#1a1a4d] text-white p-4 overflow-auto",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,s.jsx)("h2",{className:"text-lg font-semibold",children:"Files"}),(0,s.jsxs)("div",{children:[(0,s.jsx)(l.z,{variant:"ghost",size:"sm",className:"text-white hover:bg-[#2a2a5a] mr-2",onClick:()=>{i("New File ".concat(t.length+1))},children:(0,s.jsx)(f.Z,{size:16})}),(0,s.jsx)(l.z,{variant:"ghost",size:"sm",className:"text-white hover:bg-[#2a2a5a]",onClick:()=>{c("New Folder ".concat(a.length+1))},children:(0,s.jsx)(et.Z,{size:16})})]})]}),a.map(e=>V(e)),t.map(e=>K(e))]})},er=a(73247);function en(e){let{value:t,onChange:a}=e;return(0,s.jsxs)("div",{className:"relative w-64",children:[(0,s.jsx)(er.Z,{className:"absolute left-2 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),(0,s.jsx)(W,{value:t,onChange:e=>a(e.target.value),className:"pl-8 bg-[#1a1a4d] border-[#2a2a5a] text-white",placeholder:"Search..."})]})}function eo(){let[e,t]=(0,r.useState)([{id:"1",name:"untitled.jsnb",cells:[{id:"1",type:"code",content:"// Welcome to the JavaScript Notebook!\n// Try running this code:\nconsole.log('Hello, World!');",output:""}]}]),[a,o]=(0,r.useState)([]),[u,f]=(0,r.useState)("1"),[x,p]=(0,r.useState)(!1),{generateCode:g}=i(),[v,j]=(0,r.useState)(!1),[b,w]=(0,r.useState)(!0),[N,y]=(0,r.useState)(!1),[k,C]=(0,r.useState)(""),[z,S]=(0,r.useState)(!0);(0,r.useEffect)(()=>{let e=localStorage.getItem("jsNotebook");if(e){let{files:a,folders:s}=JSON.parse(e);t(a),o(s)}},[]);let E=(0,r.useCallback)(()=>{let t=JSON.stringify({files:e,folders:a});localStorage.setItem("jsNotebook",t)},[e,a]),Z=(0,r.useCallback)((e,a,s)=>{let r={id:Date.now().toString(),type:a,content:"code"===a?"// Enter your code here":"# Enter your markdown here",output:""};t(t=>t.map(t=>{if(t.id===e){let e=s?[...t.cells.slice(0,t.cells.findIndex(e=>e.id===s)+1),r,...t.cells.slice(t.cells.findIndex(e=>e.id===s)+1)]:[...t.cells,r];return{...t,cells:e}}return t}))},[]),R=(0,r.useCallback)((e,a,s,r)=>{t(t=>t.map(t=>{if(t.id===e){let e=t.cells.map(e=>e.id===a?r.startsWith("Error:")?{...e,output:r}:{...e,content:s,output:r}:e);return{...t,cells:e}}return t}))},[]),D=(0,r.useCallback)((e,a)=>{t(t=>t.map(t=>t.id===e?{...t,cells:t.cells.filter(e=>e.id!==a)}:t))},[]),O=(0,r.useCallback)(e=>{if(!e.destination)return;let a=e.source.droppableId,s=e.destination.droppableId;t(t=>{let r=t.find(e=>e.id===a),n=t.find(e=>e.id===s);if(!r||!n)return t;let o=Array.from(r.cells),[l]=o.splice(e.source.index,1);if(a===s)return o.splice(e.destination.index,0,l),t.map(e=>e.id===a?{...e,cells:o}:e);{let r=Array.from(n.cells);return r.splice(e.destination.index,0,l),t.map(e=>e.id===a?{...e,cells:o}:e.id===s?{...e,cells:r}:e)}})},[]),F=(0,r.useCallback)(()=>{t(e=>e.map(e=>{if(e.id===u){let t=e.cells.map(e=>{if("markdown"===e.type)return e;try{let t=Object.getPrototypeOf(async()=>{}).constructor,a="";return new t("console",e.content)({log:function(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];a+=t.map(e=>JSON.stringify(e)).join(" ")+"\n"},error:function(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];a+="Error: "+t.map(e=>JSON.stringify(e)).join(" ")+"\n"}}),{...e,output:a}}catch(t){return{...e,output:"Error: ".concat(t.message)}}});return{...e,cells:t}}return e}))},[u]),P=(0,r.useCallback)(()=>{t(e=>e.map(e=>e.id===u?{...e,cells:e.cells.map(e=>({...e,output:""}))}:e))},[u]),I=(0,r.useCallback)(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"untitled.jsnb",a=arguments.length>1?arguments[1]:void 0,s=(e,t)=>{let a=e,s=1;for(;t.includes(a);){let t=e.split(".");a=t.length>1?"".concat(t.slice(0,-1).join(".")," (").concat(s,").").concat(t[t.length-1]):"".concat(e," (").concat(s,")"),s++}return a},r={id:Date.now().toString(),name:e,cells:[{id:"1",type:"code",content:"// Welcome to a new JavaScript Notebook!\n// Start coding here:",output:""}]};a?o(t=>{let n=t=>{if(t.id===a){let a=t.files.map(e=>e.name);return r.name=s(e,a),{...t,files:[...t.files,r]}}return{...t,folders:t.folders.map(n)}};return t.map(n)}):t(t=>{let a=t.map(e=>e.name);return r.name=s(e,a),[...t,r]}),f(r.id)},[]),A=(0,r.useCallback)(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"New Folder",t=arguments.length>1?arguments[1]:void 0,a={id:Date.now().toString(),name:e,files:[],folders:[]};t?o(e=>{let s=e=>e.id===t?{...e,folders:[...e.folders,a]}:{...e,folders:e.folders.map(s)};return e.map(s)}):o(e=>[...e,a])},[]),L=(0,r.useCallback)((e,a)=>{t(t=>t.map(t=>t.id===e?{...t,name:a}:t))},[]),J=(0,r.useCallback)((e,t)=>{o(a=>{let s=a=>a.id===e?{...a,name:t}:{...a,folders:a.folders.map(s)};return a.map(s)})},[]),M=(0,r.useCallback)(a=>{if(t(e=>e.filter(e=>e.id!==a)),u===a){var s;f((null===(s=e[0])||void 0===s?void 0:s.id)||"")}},[u,e]),T=(0,r.useCallback)(e=>{let t=a=>a.filter(t=>t.id!==e).map(e=>({...e,folders:t(e.folders)}));o(e=>t(e))},[]);(0,r.useCallback)(t=>{if(C(t),!t)return{fileResults:e,folderResults:a};let s=e=>e.cells.some(e=>e.content.toLowerCase().includes(t.toLowerCase())),r=e=>e.files.some(s)||e.folders.some(r);return{fileResults:e.filter(s),folderResults:a.filter(r)}},[e,a]);let _=(0,r.useCallback)(t=>{let s=btoa(JSON.stringify({files:e,folders:a})),r="".concat(window.location.origin,"/shared?data=").concat(s);if("link"===t)navigator.clipboard.writeText(r),alert("Share link copied to clipboard!");else if("email"===t){let e=encodeURIComponent("Shared JavaScript Notebook"),t=encodeURIComponent("Check out this JavaScript Notebook: ".concat(r));window.location.href="mailto:?subject=".concat(e,"&body=").concat(t)}},[e,a]),V=(0,r.useCallback)((e,a)=>{t(t=>t.map(t=>t.id===e?{...t,cells:t.cells.map(e=>e.id===a?{...e,type:"code"===e.type?"markdown":"code",content:"code"===e.type?"# Enter your markdown here":"// Enter your code here"}:e)}:t))},[]),K=e.find(e=>e.id===u);return(0,s.jsxs)("div",{className:"flex h-screen bg-[#000033]",children:[(0,s.jsx)("div",{className:"w-64 bg-[#1a1a4d] border-r border-[#2a2a5a] overflow-y-auto transition-all duration-300 ".concat(z?"translate-x-0":"-translate-x-full"),style:{position:"absolute",top:0,bottom:0,left:0,zIndex:10},children:(0,s.jsx)(es,{files:e,folders:a,activeFile:u,onFileSelect:f,onCreateFile:I,onCreateFolder:A,onRenameFile:L,onRenameFolder:J,onDeleteFile:M,onDeleteFolder:T})}),(0,s.jsxs)("div",{className:"flex-1 flex flex-col overflow-hidden transition-all duration-300 ".concat(z?"ml-64":"ml-0"),children:[(0,s.jsxs)("div",{className:"flex justify-between items-center p-4 bg-[#1a1a4d] border-b border-[#2a2a5a]",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)(l.z,{variant:"ghost",size:"icon",className:"text-white hover:bg-[#2a2a5a]",onClick:()=>{w(!b),S(!z),setTimeout(()=>{window.dispatchEvent(new Event("resize"))},100)},children:(0,s.jsx)($.Z,{className:"h-6 w-6"})}),(0,s.jsx)("h1",{className:"text-xl font-semibold text-white",children:(null==K?void 0:K.name)||"No file selected"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)(en,{value:k,onChange:C}),(0,s.jsxs)(l.z,{onClick:F,variant:"ghost",className:"text-white hover:bg-[#2a2a5a]",children:[(0,s.jsx)(m.Z,{className:"w-4 h-4 mr-2"}),"Run All"]}),(0,s.jsxs)(l.z,{onClick:P,variant:"ghost",className:"text-white hover:bg-[#2a2a5a]",children:[(0,s.jsx)(h.Z,{className:"w-4 h-4 mr-2"}),"Clear All Outputs"]}),(0,s.jsxs)(l.z,{onClick:E,variant:"ghost",className:"text-white hover:bg-[#2a2a5a]",children:[(0,s.jsx)(X.Z,{className:"w-4 h-4 mr-2"}),"Save"]}),(0,s.jsxs)(l.z,{onClick:()=>j(!0),variant:"ghost",className:"text-white hover:bg-[#2a2a5a]",children:[(0,s.jsx)(q.Z,{className:"w-4 h-4 mr-2"}),"Share"]})]})]}),(0,s.jsx)("div",{className:"flex-1 overflow-auto p-4",children:(0,s.jsx)("div",{className:"container mx-auto",children:K&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"flex space-x-2 mb-4",children:[(0,s.jsxs)(l.z,{variant:"ghost",size:"sm",className:"text-white hover:bg-[#2a2a5a]",onClick:()=>Z(u,"code"),children:[(0,s.jsx)(c.Z,{className:"w-4 h-4 mr-2"}),"Add Code Cell"]}),(0,s.jsxs)(l.z,{variant:"ghost",size:"sm",className:"text-white hover:bg-[#2a2a5a]",onClick:()=>Z(u,"markdown"),children:[(0,s.jsx)(d.Z,{className:"w-4 h-4 mr-2"}),"Add Markdown Cell"]})]}),(0,s.jsx)(n.Z5,{onDragEnd:O,children:(0,s.jsx)(n.bK,{droppableId:u,children:e=>(0,s.jsxs)("div",{...e.droppableProps,ref:e.innerRef,children:[K.cells.filter(e=>e.content.toLowerCase().includes(k.toLowerCase())).map((e,t)=>(0,s.jsx)(n._l,{draggableId:e.id,index:t,children:t=>(0,s.jsxs)("div",{ref:t.innerRef,...t.draggableProps,className:"flex items-start space-x-2 mb-4 group",children:[(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("div",{...t.dragHandleProps,className:"cursor-move p-1 hover:bg-[#2a2a5a] rounded mt-2",children:(0,s.jsx)(Q.Z,{className:"w-4 h-4 text-gray-400"})}),(0,s.jsxs)("div",{className:"absolute left-1/2 -translate-x-1/2 mt-2 opacity-0 group-hover:opacity-100 transition-opacity flex flex-col space-y-1",children:[(0,s.jsx)(l.z,{variant:"ghost",size:"sm",className:"text-white hover:bg-[#2a2a5a] h-8 w-8 p-0",onClick:()=>Z(u,"code",e.id),children:(0,s.jsx)(c.Z,{className:"w-4 h-4"})}),(0,s.jsx)(l.z,{variant:"ghost",size:"sm",className:"text-white hover:bg-[#2a2a5a] h-8 w-8 p-0",onClick:()=>Z(u,"markdown",e.id),children:(0,s.jsx)(d.Z,{className:"w-4 h-4"})})]})]}),(0,s.jsx)("div",{className:"flex-grow",children:(0,s.jsx)(H,{type:e.type,content:e.content,output:e.output,onUpdate:(t,a)=>R(u,e.id,t,a),onDelete:()=>D(u,e.id),onAdd:()=>Z(u,"code",e.id),onTypeChange:()=>V(u,e.id),dragHandleProps:t.dragHandleProps,searchTerm:k})})]})},e.id)),e.placeholder]})})})]})})})]}),(0,s.jsx)(ee,{isOpen:v,onClose:()=>j(!1),onShare:_})]})}},62869:function(e,t,a){"use strict";a.d(t,{z:function(){return c}});var s=a(57437),r=a(2265),n=a(37053),o=a(90535),l=a(94508);let i=(0,o.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=r.forwardRef((e,t)=>{let{className:a,variant:r,size:o,asChild:c=!1,...d}=e,m=c?n.g7:"button";return(0,s.jsx)(m,{className:(0,l.cn)(i({variant:r,size:o,className:a})),ref:t,...d})});c.displayName="Button"},94508:function(e,t,a){"use strict";a.d(t,{cn:function(){return n}});var s=a(61994),r=a(53335);function n(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,r.m6)((0,s.W)(t))}}},function(e){e.O(0,[216,482,582,971,117,744],function(){return e(e.s=21122)}),_N_E=e.O()}]);